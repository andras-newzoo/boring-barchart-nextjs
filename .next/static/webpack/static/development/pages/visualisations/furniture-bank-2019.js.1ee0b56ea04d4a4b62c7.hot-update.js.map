{"version":3,"file":"static/webpack/static/development/pages/visualisations/furniture-bank-2019.js.1ee0b56ea04d4a4b62c7.hot-update.js","sources":["webpack:///./containers/FurnitureBank2019/index.jsx","webpack:///./node_modules/@material-ui/icons/Delete.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport {\n  MainContainer,\n  DashboardContainer,\n  ControlsContainer,\n  ChartsContainer,\n  LogoContainer,\n  MainTitle,\n  colorRedDark\n} from \"./styles\";\nimport { ControlContainer } from \"./components\";\nimport { useSelector } from \"react-redux\";\nimport { selectFilteredCoordinates } from \"../../store/furnitureBankReducer/selectors\";\nimport {\n  MapContainer,\n  SocChartsContainer,\n  FamilyContainer,\n  ValueContainer,\n  EnvChartsContainer,\n  LandFillContainer,\n  EmissionContainer,\n  ReqContainer\n} from \"./styles/styledContainers\";\nimport styled from \"styled-components\";\nimport ReactMapGL from \"react-map-gl\";\nimport { heatMapStyles, HEATMAP_SOURCE_ID } from \"./components/Map/styles\";\nimport _ from \"lodash\";\nimport { Paper, Button } from \"@material-ui/core\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { styled as materialStyled} from '@material-ui/styles';\n\nconst MapPaper = styled(Paper)`\n  height: 100%;\n  width: 100%;\n`;\n\nconst ReqButton = materialStyled(Button)({\n  backgroundColor: colorRedDark\n})\n\nconst Dashboard = () => {\n  const filteredCoordinates = useSelector(selectFilteredCoordinates);\n  const [initMap, setInitMap] = useState(false);\n  const mapRef = useRef();\n  const viewport = {\n    width: \"100%\",\n    height: \"100%\",\n    latitude: 43.66107,\n    longitude: -79.477015,\n    zoom: 8\n  };\n\n  console.log(_.groupBy(filteredCoordinates, \"postal_code\"));\n\n  const handleMapLoaded = () => {\n    mapRef.current.getMap().addSource(HEATMAP_SOURCE_ID, {\n      type: \"geojson\",\n      data: makeGeoJSON(filteredCoordinates)\n    });\n    mapRef.current.getMap().addLayer(heatMapStyles);\n    setInitMap(true);\n  };\n\n  useEffect(() => {\n    if (initMap) {\n      mapRef.current\n        .getMap()\n        .getSource(HEATMAP_SOURCE_ID)\n        .setData(makeGeoJSON(filteredCoordinates));\n    }\n  }, [filteredCoordinates, initMap]);\n\n  const makeGeoJSON = data => {\n    if (!data) return undefined;\n    return {\n      type: \"FeatureCollection\",\n      features: data.map(feature => {\n        return {\n          type: \"Feature\",\n          properties: {\n            id: feature.postal_code\n          },\n          geometry: {\n            type: \"Point\",\n            coordinates: feature.coors\n              ? [feature.coors.longitude, feature.coors.latitude, 0]\n              : [0, 0, 0]\n          }\n        };\n      })\n    };\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>Furniture Bank 2019</title>\n      </Helmet>\n      <MainContainer>\n        <DashboardContainer>\n          <ControlsContainer>\n            <LogoContainer>\n              <img\n                src=\"/static/logos/furnitureBank.svg\"\n                alt=\"furniture bank icon\"\n              />\n            </LogoContainer>\n            <ControlContainer />\n          </ControlsContainer>\n          <ChartsContainer>\n            <SocChartsContainer>\n              <MainTitle gridArea=\"title\">\n                What is the estimated social impact of your donation?\n              </MainTitle>\n              <MapContainer>\n                <MapPaper>\n                  {/* <ReactMapGL\n                    ref={mapRef}\n                    mapboxApiAccessToken=\"pk.eyJ1Ijoic3plYW5kciIsImEiOiJjajlpeWxnNHUzbWNiMzNvcnF1ZGUzbG5rIn0.fk33YGLOHSZtT_CMEWoIag\"\n                    {...viewport}\n                    mapStyle=\"mapbox://styles/szeandr/ck1664yzv02iq1crq35ea679o\"\n                    onLoad={handleMapLoaded}\n                  ></ReactMapGL> */}\n                </MapPaper>\n              </MapContainer>\n              <FamilyContainer>\n                <MapPaper></MapPaper>\n              </FamilyContainer>\n              <ValueContainer>\n                <MapPaper></MapPaper>\n              </ValueContainer>\n            </SocChartsContainer>\n            <EnvChartsContainer>\n              <MainTitle gridArea=\"title\">\n                What is the estimated environmental impact of your donation?\n              </MainTitle>\n              <LandFillContainer>\n                <MapPaper></MapPaper>\n              </LandFillContainer>\n              <EmissionContainer>\n                <MapPaper></MapPaper>\n              </EmissionContainer>\n            </EnvChartsContainer>\n            <ReqContainer>\n              <MainTitle spec>\n                Thank you!\n              </MainTitle>\n              <ReqButton\n                variant=\"contained\"\n                disableRipple\n              >      \n                <DeleteIcon />\n                Requesasst a Pickup\n              </ReqButton>\n            </ReqContainer>\n          </ChartsContainer>\n        </DashboardContainer>\n      </MainContainer>\n    </>\n  );\n};\nexport default Dashboard;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AASA;AACA;AACA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAKA;AACA;AADA;AACA;AAGA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AALA;AAYA;AAfA;AAiBA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAAA;;;;;;;;;;;;AClKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}