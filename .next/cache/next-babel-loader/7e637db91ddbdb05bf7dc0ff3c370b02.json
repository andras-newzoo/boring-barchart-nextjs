{"ast":null,"code":"import { select } from \"d3-selection\";\nimport { interpolateNumber } from \"d3-interpolate\";\nimport { format } from 'd3-format';\nexport var numberTween = function numberTween(d, i, n, key, numFormat) {\n  var that = select(n[i]);\n  var num = +that.text().substring(0, that.text().length - 1) * 0.01;\n  var newNum = d[key];\n  var index = interpolateNumber(num, newNum);\n  return function (t) {\n    that.text(\"\".concat(format(numFormat)(index(t))));\n  };\n};\nexport var createUpdateSvg = function createUpdateSvg(_ref) {\n  var area = _ref.area,\n      dims = _ref.dims,\n      _ref$margin = _ref.margin,\n      margin = _ref$margin === void 0 ? {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  } : _ref$margin,\n      append = _ref.append,\n      update = _ref.update;\n  var chartArea;\n\n  var setDims = function setDims(svg) {\n    return svg.attr(\"width\", dims.width).attr(\"height\", dims.height);\n  };\n\n  var chartWidth = dims.width - margin.left - margin.right;\n  var chartHeight = dims.height - margin.top - margin.bottom;\n\n  if (append) {\n    area.append(\"svg\");\n    var svg = area.select(\"svg\");\n    setDims(svg);\n    svg.append(\"g\").attr(\"class\", \"chart-area\").attr(\"transform\", \"translate(\".concat(margin.left, \", \").concat(margin.top, \")\"));\n    chartArea = area.select(\".chart-area\");\n  }\n\n  ;\n\n  if (update) {\n    setDims(area.select(\"svg\"));\n  }\n\n  return {\n    chartArea: chartArea,\n    chartWidth: chartWidth,\n    chartHeight: chartHeight\n  };\n};","map":{"version":3,"sources":["/Users/andrasszesztai/Desktop/boring-barchart-nextjs/utils/chartHelpers.js"],"names":["select","interpolateNumber","format","numberTween","d","i","n","key","numFormat","that","num","text","substring","length","newNum","index","t","createUpdateSvg","area","dims","margin","top","right","bottom","left","append","update","chartArea","setDims","svg","attr","width","height","chartWidth","chartHeight"],"mappings":"AAAA,SAASA,MAAT,QAAuB,cAAvB;AACA,SAASC,iBAAT,QAAkC,gBAAlC;AACA,SAAQC,MAAR,QAAqB,WAArB;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAUC,GAAV,EAAeC,SAAf,EAA6B;AACtD,MAAMC,IAAI,GAAGT,MAAM,CAACM,CAAC,CAACD,CAAD,CAAF,CAAnB;AACA,MAAMK,GAAG,GAAG,CAACD,IAAI,CAACE,IAAL,GAAYC,SAAZ,CAAsB,CAAtB,EAAyBH,IAAI,CAACE,IAAL,GAAYE,MAAZ,GAAqB,CAA9C,CAAD,GAAoD,IAAhE;AACA,MAAMC,MAAM,GAAGV,CAAC,CAACG,GAAD,CAAhB;AACA,MAAMQ,KAAK,GAAGd,iBAAiB,CAACS,GAAD,EAAMI,MAAN,CAA/B;AACA,SAAO,UAASE,CAAT,EAAY;AACjBP,IAAAA,IAAI,CAACE,IAAL,WAAaT,MAAM,CAACM,SAAD,CAAN,CAAkBO,KAAK,CAACC,CAAD,CAAvB,CAAb;AACD,GAFD;AAGD,CARM;AAUP,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,OAMzB;AAAA,MALJC,IAKI,QALJA,IAKI;AAAA,MAJJC,IAII,QAJJA,IAII;AAAA,yBAHJC,MAGI;AAAA,MAHJA,MAGI,4BAHK;AAAEC,IAAAA,GAAG,EAAE,CAAP;AAAUC,IAAAA,KAAK,EAAE,CAAjB;AAAoBC,IAAAA,MAAM,EAAE,CAA5B;AAA+BC,IAAAA,IAAI,EAAE;AAArC,GAGL;AAAA,MAFJC,MAEI,QAFJA,MAEI;AAAA,MADJC,MACI,QADJA,MACI;AACJ,MAAIC,SAAJ;;AACA,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,IAAJ,CAAS,OAAT,EAAkBX,IAAI,CAACY,KAAvB,EAA8BD,IAA9B,CAAmC,QAAnC,EAA6CX,IAAI,CAACa,MAAlD,CAAJ;AAAA,GAAnB;;AACA,MAAMC,UAAU,GAAGd,IAAI,CAACY,KAAL,GAAaX,MAAM,CAACI,IAApB,GAA2BJ,MAAM,CAACE,KAArD;AACA,MAAMY,WAAW,GAAGf,IAAI,CAACa,MAAL,GAAcZ,MAAM,CAACC,GAArB,GAA2BD,MAAM,CAACG,MAAtD;;AACA,MAAGE,MAAH,EAAU;AACRP,IAAAA,IAAI,CAACO,MAAL,CAAY,KAAZ;AACA,QAAMI,GAAG,GAAGX,IAAI,CAAClB,MAAL,CAAY,KAAZ,CAAZ;AACA4B,IAAAA,OAAO,CAACC,GAAD,CAAP;AACAA,IAAAA,GAAG,CACAJ,MADH,CACU,GADV,EAEGK,IAFH,CAEQ,OAFR,EAEiB,YAFjB,EAGGA,IAHH,CAGQ,WAHR,sBAGkCV,MAAM,CAACI,IAHzC,eAGkDJ,MAAM,CAACC,GAHzD;AAIAM,IAAAA,SAAS,GAAGT,IAAI,CAAClB,MAAL,CAAY,aAAZ,CAAZ;AACD;;AAAA;;AACD,MAAG0B,MAAH,EAAU;AACRE,IAAAA,OAAO,CAACV,IAAI,CAAClB,MAAL,CAAY,KAAZ,CAAD,CAAP;AACD;;AACD,SAAO;AAAE2B,IAAAA,SAAS,EAATA,SAAF;AAAaM,IAAAA,UAAU,EAAVA,UAAb;AAAyBC,IAAAA,WAAW,EAAXA;AAAzB,GAAP;AACC,CAzBI","sourcesContent":["import { select } from \"d3-selection\";\nimport { interpolateNumber } from \"d3-interpolate\";\nimport {format} from 'd3-format'\n\nexport const numberTween = (d, i, n, key, numFormat) => {\n  const that = select(n[i])\n  const num = +that.text().substring(0, that.text().length - 1) * 0.01\n  const newNum = d[key]\n  const index = interpolateNumber(num, newNum);\n  return function(t) {\n    that.text(`${format(numFormat)(index(t))}`);\n  };\n};\n\nexport const createUpdateSvg = ({\n  area,\n  dims,\n  margin = { top: 0, right: 0, bottom: 0, left: 0 },\n  append,\n  update\n}) => {\n  let chartArea\n  const setDims = svg => svg.attr(\"width\", dims.width).attr(\"height\", dims.height);\n  const chartWidth = dims.width - margin.left - margin.right\n  const chartHeight = dims.height - margin.top - margin.bottom\n  if(append){\n    area.append(\"svg\");\n    const svg = area.select(\"svg\")\n    setDims(svg)\n    svg\n      .append(\"g\")\n      .attr(\"class\", \"chart-area\")\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\n    chartArea = area.select(\".chart-area\");\n  };\n  if(update){\n    setDims(area.select(\"svg\"))\n  }\n  return { chartArea, chartWidth, chartHeight }\n  }\n"]},"metadata":{},"sourceType":"module"}