{"ast":null,"code":"var _jsxFileName = \"/Users/andrasszesztai/Desktop/boring-barchart-nextjs/containers/FurnitureBank2019/components/ControlContainer.jsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { ControlContainer as Control, MainTitle, PanelContainer } from \"./styles\";\nimport { AutoComplete, ItemChip } from \"../../components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addItem, incrementItem, decrementItem, deleteItem } from \"../../store/furnitureBankReducer/actions\";\nimport { selectAllUnselected, selectTotalQuantity } from \"../../store/furnitureBankReducer/selectors\";\n\nconst ControlContainer = () => {\n  const {\n    0: dimensions,\n    1: setDimensions\n  } = useState(undefined);\n  const panelContainerRef = useRef();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const panelWidth = panelContainerRef.current.clientWidth;\n    const panelHeight = panelContainerRef.current.clientHeight;\n    !dimensions && setDimensions({\n      width: panelWidth,\n      height: panelHeight\n    });\n  }, [panelContainerRef, dimensions]);\n\n  const handleSelected = selected => dispatch(addItem(selected));\n\n  const handleIncrementClick = item => dispatch(incrementItem(item));\n\n  const handleDecrementClick = item => dispatch(decrementItem(item));\n\n  const handleDeleteClick = item => dispatch(deleteItem(item));\n\n  const {\n    selectedItems\n  } = useSelector(state => state.furnitureBankReducer);\n  const allUnselected = useSelector(selectAllUnselected);\n  const totalQuantity = useSelector(selectTotalQuantity);\n  return __jsx(Control, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, __jsx(MainTitle, {\n    gridArea: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Items to Donate \", __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"\\xA0 ( \", totalQuantity, \" )\")), __jsx(PanelContainer, {\n    ref: panelContainerRef,\n    height: dimensions && dimensions.height,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, selectedItems.length > 0 && selectedItems.map(item => __jsx(ItemChip, {\n    key: item.name,\n    handleIncrementClick: () => handleIncrementClick(item.name),\n    handleDecrementClick: () => handleDecrementClick(item.name),\n    handleDeleteClick: () => handleDeleteClick(item.name),\n    content: item.name,\n    quantity: item.quantity,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })), __jsx(AutoComplete, {\n    data: allUnselected,\n    itemKey: \"product_name\",\n    handleSelected: handleSelected,\n    style: dimensions && {\n      width: dimensions.width\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })));\n};\n\nexport default ControlContainer;","map":{"version":3,"sources":["/Users/andrasszesztai/Desktop/boring-barchart-nextjs/containers/FurnitureBank2019/components/ControlContainer.jsx"],"names":["React","useEffect","useRef","useState","ControlContainer","Control","MainTitle","PanelContainer","AutoComplete","ItemChip","useSelector","useDispatch","addItem","incrementItem","decrementItem","deleteItem","selectAllUnselected","selectTotalQuantity","dimensions","setDimensions","undefined","panelContainerRef","dispatch","panelWidth","current","clientWidth","panelHeight","clientHeight","width","height","handleSelected","selected","handleIncrementClick","item","handleDecrementClick","handleDeleteClick","selectedItems","state","furnitureBankReducer","allUnselected","totalQuantity","length","map","name","quantity"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  ControlContainer as Control,\n  MainTitle,\n  PanelContainer\n} from \"./styles\";\nimport { AutoComplete, ItemChip } from \"../../components\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport {\n  addItem,\n  incrementItem,\n  decrementItem,\n  deleteItem\n} from \"../../store/furnitureBankReducer/actions\";\nimport {\n  selectAllUnselected,\n  selectTotalQuantity,\n} from \"../../store/furnitureBankReducer/selectors\";\n\nconst ControlContainer = () => {\n  const [dimensions, setDimensions] = useState(undefined);\n  const panelContainerRef = useRef();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const panelWidth = panelContainerRef.current.clientWidth;\n    const panelHeight = panelContainerRef.current.clientHeight;\n    !dimensions && setDimensions({ width: panelWidth, height: panelHeight });\n  }, [panelContainerRef, dimensions]);\n\n  const handleSelected = selected => dispatch(addItem(selected));\n  const handleIncrementClick = item => dispatch(incrementItem(item));\n  const handleDecrementClick = item => dispatch(decrementItem(item));\n  const handleDeleteClick = item => dispatch(deleteItem(item));\n\n  const { selectedItems } = useSelector(state => state.furnitureBankReducer);\n  const allUnselected = useSelector(selectAllUnselected);\n  const totalQuantity = useSelector(selectTotalQuantity);\n\n  return (\n    <Control>\n      <MainTitle gridArea=\"title\">\n        Items to Donate <span>&nbsp; ( {totalQuantity} )</span>\n      </MainTitle>\n      <PanelContainer\n        ref={panelContainerRef}\n        height={dimensions && dimensions.height}\n      >\n        {selectedItems.length > 0 &&\n          selectedItems.map(item => (\n            <ItemChip\n              key={item.name}\n              handleIncrementClick={() => handleIncrementClick(item.name)}\n              handleDecrementClick={() => handleDecrementClick(item.name)}\n              handleDeleteClick={() => handleDeleteClick(item.name)}\n              content={item.name}\n              quantity={item.quantity}\n            />\n          ))}\n        <AutoComplete\n          data={allUnselected}\n          itemKey=\"product_name\"\n          handleSelected={handleSelected}\n          style={\n            dimensions && {\n              width: dimensions.width\n            }\n          }\n        />\n      </PanelContainer>\n    </Control>\n  );\n};\n\nexport default ControlContainer\n"]},"metadata":{},"sourceType":"module"}