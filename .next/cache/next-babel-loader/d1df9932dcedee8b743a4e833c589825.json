{"ast":null,"code":"var _jsxFileName = \"/Users/andrasszesztai/Desktop/boring-barchart-nextjs/containers/FurnitureBank2019/components/ControlContainer.jsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { ControlContainer as Control, MainTitle, PanelContainer, colorGreen } from \"./../styles\";\nimport { AutoComplete, ItemChip } from \"../../../components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addItem, incrementItem, decrementItem, deleteItem } from \"../../../store/furnitureBankReducer/actions\";\nimport { selectAllUnselected, selectTotalQuantity } from \"../../../store/furnitureBankReducer/selectors\";\n\nconst ControlContainer = () => {\n  const {\n    0: dimensions,\n    1: setDimensions\n  } = useState(undefined);\n  const {\n    0: windowWidth,\n    1: setWindowWidth\n  } = useState();\n  const panelContainerRef = useRef();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const panelWidth = panelContainerRef.current.clientWidth;\n    const panelHeight = panelContainerRef.current.clientHeight;\n    setDimensions({\n      width: panelWidth,\n      height: panelHeight\n    });\n  }, [panelContainerRef, windowWidth]);\n  useEffect(() => {\n    window.addEventListener('resize', handleResize);\n  }, []);\n\n  const handleResize = () => setWindowWidth(window.innerWidth);\n\n  const handleSelected = selected => dispatch(addItem(selected));\n\n  const handleIncrementClick = item => dispatch(incrementItem(item));\n\n  const handleDecrementClick = item => dispatch(decrementItem(item));\n\n  const handleDeleteClick = item => dispatch(deleteItem(item));\n\n  const {\n    selectedItems\n  } = useSelector(state => state.furnitureBankReducer);\n  const allUnselected = useSelector(selectAllUnselected);\n  const totalQuantity = useSelector(selectTotalQuantity);\n  return __jsx(Control, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, __jsx(MainTitle, {\n    gridArea: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Items to Donate \", __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"\\xA0 ( \", totalQuantity, \" )\")), __jsx(PanelContainer, {\n    ref: panelContainerRef,\n    height: dimensions && dimensions.height,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, selectedItems.length > 0 && selectedItems.map(item => __jsx(ItemChip, {\n    key: item.name,\n    handleIncrementClick: () => handleIncrementClick(item.name),\n    handleDecrementClick: () => handleDecrementClick(item.name),\n    handleDeleteClick: () => handleDeleteClick(item.name),\n    content: item.name,\n    quantity: item.quantity,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), __jsx(AutoComplete, {\n    data: allUnselected,\n    itemKey: \"product_name\",\n    handleSelected: handleSelected,\n    iconColor: colorGreen,\n    style: dimensions && {\n      width: dimensions.width\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })));\n};\n\nexport default ControlContainer;","map":{"version":3,"sources":["/Users/andrasszesztai/Desktop/boring-barchart-nextjs/containers/FurnitureBank2019/components/ControlContainer.jsx"],"names":["React","useEffect","useRef","useState","ControlContainer","Control","MainTitle","PanelContainer","colorGreen","AutoComplete","ItemChip","useSelector","useDispatch","addItem","incrementItem","decrementItem","deleteItem","selectAllUnselected","selectTotalQuantity","dimensions","setDimensions","undefined","windowWidth","setWindowWidth","panelContainerRef","dispatch","panelWidth","current","clientWidth","panelHeight","clientHeight","width","height","window","addEventListener","handleResize","innerWidth","handleSelected","selected","handleIncrementClick","item","handleDecrementClick","handleDeleteClick","selectedItems","state","furnitureBankReducer","allUnselected","totalQuantity","length","map","name","quantity"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  ControlContainer as Control,\n  MainTitle,\n  PanelContainer,\n  colorGreen\n} from \"./../styles\";\nimport { AutoComplete, ItemChip } from \"../../../components\"\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport {\n  addItem,\n  incrementItem,\n  decrementItem,\n  deleteItem\n} from \"../../../store/furnitureBankReducer/actions\";\nimport {\n  selectAllUnselected,\n  selectTotalQuantity,\n} from \"../../../store/furnitureBankReducer/selectors\";\n\nconst ControlContainer = () => {\n  const [dimensions, setDimensions] = useState(undefined);\n  const [ windowWidth, setWindowWidth ] = useState()\n  const panelContainerRef = useRef();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const panelWidth = panelContainerRef.current.clientWidth;\n    const panelHeight = panelContainerRef.current.clientHeight;\n    setDimensions({ width: panelWidth, height: panelHeight });\n  }, [panelContainerRef, windowWidth]);\n\n  useEffect(() => {\n    window.addEventListener('resize', handleResize)\n  },[])\n\n  const handleResize = () => setWindowWidth(window.innerWidth)\n  const handleSelected = selected => dispatch(addItem(selected));\n  const handleIncrementClick = item => dispatch(incrementItem(item));\n  const handleDecrementClick = item => dispatch(decrementItem(item));\n  const handleDeleteClick = item => dispatch(deleteItem(item));\n\n  const { selectedItems } = useSelector(state => state.furnitureBankReducer);\n  const allUnselected = useSelector(selectAllUnselected);\n  const totalQuantity = useSelector(selectTotalQuantity);\n\n  return (\n    <Control>\n      <MainTitle gridArea=\"title\">\n        Items to Donate <span>&nbsp; ( {totalQuantity} )</span>\n      </MainTitle>\n      <PanelContainer\n        ref={panelContainerRef}\n        height={dimensions && dimensions.height}\n      >\n        {selectedItems.length > 0 &&\n          selectedItems.map(item => (\n            <ItemChip\n              key={item.name}\n              handleIncrementClick={() => handleIncrementClick(item.name)}\n              handleDecrementClick={() => handleDecrementClick(item.name)}\n              handleDeleteClick={() => handleDeleteClick(item.name)}\n              content={item.name}\n              quantity={item.quantity}\n            />\n          ))}\n        <AutoComplete\n          data={allUnselected}\n          itemKey=\"product_name\"\n          handleSelected={handleSelected}\n          iconColor={colorGreen}\n          style={\n            dimensions && {\n              width: dimensions.width\n            }\n          }\n        />\n      </PanelContainer>\n    </Control>\n  );\n};\n\nexport default ControlContainer\n"]},"metadata":{},"sourceType":"module"}